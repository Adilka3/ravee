<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå∏ –ê–¥–∏–ª—å & –ê–¥–∞ üå∏</title>
    <style>
        :root {
            --main-color: #ff85a2;
            --accent-color: #ff6b6b;
            --radius: 25px;
            --glass-bg: rgba(255, 255, 255, 0.95);
            --gradient: linear-gradient(45deg, #ff9a9e, #fad0c4);
        }

        body {
            background: var(--gradient);
            font-family: 'Comic Neue', cursive;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: var(--glass-bg);
            border-radius: var(--radius);
            padding: 40px;
            max-width: 600px;
            box-shadow: 0 10px 40px rgba(255, 105, 180, 0.1);
            backdrop-filter: blur(10px);
            text-align: center;
            margin: 20px;
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }

        .main-btn {
            background: linear-gradient(45deg, var(--main-color), var(--accent-color));
            color: white;
            border: none;
            padding: 18px 30px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .main-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
        }

        .quote-box {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--radius);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-style: italic;
            transition: opacity 0.5s;
        }

        .time-input {
            margin: 20px 0;
            position: relative;
        }

        input[type="time"] {
            width: 200px;
            padding: 15px 25px;
            font-size: 1.1em;
            border: 3px solid var(--main-color);
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.9);
            color: #ff6b6b;
        }

        .time-conversion {
            margin: 15px 0;
            padding: 20px;
            background: linear-gradient(45deg, #fff5f5, #ffecec);
            border: 2px solid #ffd6d6;
            border-radius: 20px;
            font-size: 1.1em;
            color: #6b5b95;
            transition: all 0.3s;
        }

        .time-conversion strong {
            color: #ff6b6b;
            font-weight: 700;
        }

        .time-conversion span {
            display: block;
            margin-top: 8px;
            font-size: 0.9em;
            opacity: 0.8;
        }

        .modal {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border: 2px solid var(--main-color);
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            display: none;
            z-index: 1000;
        }

        .modal.show {
            display: block;
            animation: modalIn 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: var(--accent-color);
        }

        .schedule-day {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: var(--radius);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .time-slot {
            padding: 10px;
            margin: 5px 0;
            border-radius: 10px;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .time-slot.current {
            background: linear-gradient(45deg, #ff85a2, #ff6b6b);
            color: white;
        }

        .time-switcher {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .time-switcher button {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid var(--main-color);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            color: var(--accent-color);
        }

        .time-switcher button.active {
            background: linear-gradient(45deg, var(--main-color), var(--accent-color));
            color: white;
            border-color: transparent;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>üå∏ –ê–¥–∞, —Å —Ç–∞–Ω—Ü—É–µ–º —Å–µ–≥–æ–¥–Ω—è? üå∏</h1>
        
        <div class="quote-box" id="quoteContainer">
            "–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏ ‚ù§Ô∏è"
        </div>

        <div class="time-input">
            <input type="time" id="nanjingTime" required>
            <div class="time-conversion" id="timeConversion">
                üå∏ –í—ã–±–µ—Ä–∏ –≤—Ä–µ–º—è —Å–Ω–∞—á–∞–ª–∞
            </div>
        </div>

        <div class="button-group">
            <button class="main-btn" onclick="handleSubmit()">
                üåü –ó–∞–∂–µ—á—å –†—ç–π–≤!
            </button>
            
            <button class="main-btn" onclick="showSchedule()">
                üìÖ –ß–µ–º –∑–∞–Ω—è—Ç –ê–¥–∏–ª—å?
            </button>
        </div>
    </div>

    <div class="modal" id="scheduleModal">
        <button class="close-btn" onclick="closeSchedule()">√ó</button>
        <h2 style="color: #ff6b6b; margin: 0 0 20px;">üéì –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –ê–¥–∏–ª—è </h2>
        <div class="time-switcher">
            <button class="active" data-zone="astana" onclick="showTimeZone('astana')">üá∞üáø –ê—Å—Ç–∞–Ω–∞ (UTC+5)</button>
            <button data-zone="nanjing" onclick="showTimeZone('nanjing')">üá®üá≥ –ù–∞–Ω–∫–∏–Ω (UTC+8)</button>
        </div>
        <div id="scheduleContent"></div>
    </div>

    <div class="modal" id="confirmModal">
        <h2 style="color: #ff6b6b; margin: 0 0 15px">‚ú® –ì–æ—Ç–æ–≤–æ!</h2>
        <p style="font-size: 1.1em; line-height: 1.5">
            –¢–≤–æ–π —Å–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!<br>
            –°–æ–æ–±—â–µ–Ω–∏–µ —É–∂–µ –ª–µ—Ç–∏—Ç –∫ –ê–¥–∏–ª—é<br>
            —á–µ—Ä–µ–∑ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ä—ç–π–≤-–∫–∞–Ω–∞–ª üöÄ
        </p>
        <div style="margin-top: 20px; font-size: 40px">üíå‚û°Ô∏èüë®üíª</div>
    </div>

    <script>
        const quotes = [
            "–¢—ã - –º–æ–π –ª—é–±–∏–º—ã–π exception ‚ù§Ô∏è",
            "–õ—é–±–æ–≤—å –∫ —Ç–µ–±–µ - –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª ‚ôæÔ∏è",
            "–¢—ã –∫–∞–∫ 1000 –∫–æ—Ç–∏–∫–æ–≤ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ üòª",
            "–ù–∞—à –∫–æ–¥ —Å–æ–≤–º–µ—Å—Ç–∏–º –Ω–∞ 100% üíª",
            "–¢—ã - –ª—É—á—à–∏–π –∫–æ–º–º–∏—Ç –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ üíæ",
            "–ú–æ–µ —Å–µ—Ä–¥—Ü–µ - —Ç–≤–æ–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π üîí",
            "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –±–∞–≥–∏ –º–∏–ª—ã–µ üêû",
            "–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ–π –º–∏—Ä RGB(255, 105, 180) üíñ",
            "–õ—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ —á–µ–º –∫–æ—Ñ–µ ‚òï‚ù§Ô∏è",
            "–¢—ã - –º–æ–π favicon –≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ üåê"
        ];

        const fullSchedule = {
            "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
                { time: '08:00 - 08:50', activity: '–°–≤–æ–±–æ–¥–µ–Ω' },
                { time: '09:00 - 09:50', activity: '–°–≤–æ–±–æ–¥–µ–Ω' },
                { time: '10:00 - 10:50', activity: "–ú–µ—Ç–æ–¥—ã –ò–ò –≤ –∏–Ω—Ñ–æ–±–µ–∑–µ, –ª–∞–±" },
                { time: '11:10 - 12:00', activity: "–ú–µ—Ç–æ–¥—ã –ò–ò –≤ –∏–Ω—Ñ–æ–±–µ–∑–µ, –ª–∞–±" },
                { time: '12:10 - 13:00', activity: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–π, –ª–∞–±" },
                { time: '13:10 - 14:00', activity: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–π, –ª–∞–±" },
                { time: '14:10 - 15:00', activity: "–ú–µ—Ç–æ–¥—ã –ò–ò –≤ –∏–Ω—Ñ–æ–±–µ–∑–µ, –ª–µ–∫" },
                { time: '15:10 - 16:00', activity: '–°–≤–æ–±–æ–¥–µ–Ω' },
                { time: '16:10 - 17:00', activity: '–í–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞' },
                { time: '17:10 - 18:00', activity: '–í–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞' },
                { time: '18:10 - 19:00', activity: '–í–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞' }
            ],
            "–í—Ç–æ—Ä–Ω–∏–∫": [
                { time: '08:00 - 08:50', activity: '–°–≤–æ–±–æ–¥–µ–Ω' },
                { time: '10:00 - 10:50', activity: "–û—Å–Ω–æ–≤—ã —Ü–∏—Ñ—Ä.–∫—Ä–∏–º–∏–Ω–∞–ª–∏—Å—Ç–∏–∫–∏" },
                { time: '11:10 - 12:00', activity: "–û—Å–Ω–æ–≤—ã —Ü–∏—Ñ—Ä.–∫—Ä–∏–º–∏–Ω–∞–ª–∏—Å—Ç–∏–∫–∏" },
                { time: '12:10 - 13:00', activity: "–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ª–µ–∫" },
                { time: '13:10 - 14:00', activity: "–¶–∏—Ñ—Ä.–∫—Ä–∏–º–∏–Ω–∞–ª–∏—Å—Ç–∏–∫–∞, –ª–∞–±" },
                { time: '15:10 - 16:00', activity: '–í–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞' },
                { time: '17:10 - 21:00', activity: '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ üèãÔ∏è' }
            ],
            "–°—Ä–µ–¥–∞": [
                { time: '08:00 - 08:50', activity: "–°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è, –ª–µ–∫" },
                { time: '09:00 - 09:50', activity: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–π, –ª–µ–∫" },
                { time: '10:00 - 12:00', activity: "–°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ–∏—è, –ª–∞–±" },
                { time: '12:10 - 19:00', activity: '–í–æ–∑–º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞' }
            ],
            "–ß–µ—Ç–≤–µ—Ä–≥": [
                { time: '08:00 - 14:00', activity: '–°–≤–æ–±–æ–¥–µ–Ω' },
                { time: '14:10 - 16:00', activity: '–°–∏—Ç—É–∞—Ç–∏–≤–Ω–æ' },
                { time: '17:10 - 21:00', activity: '–§–∏—Ç–Ω–µ—Å üèÉ‚ôÇÔ∏è' }
            ],
            "–ü—è—Ç–Ω–∏—Ü–∞": [
                { time: '08:00 - 18:00', activity: '–í–æ–µ–Ω–Ω–∞—è –∫–∞—Ñ–µ–¥—Ä–∞ ‚öîÔ∏è' }
            ],
            "–°—É–±–±–æ—Ç–∞": [
                { time: '12:10 - 14:00', activity: "–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ª–∞–±" }
            ]
        };

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Ä–µ–º–µ–Ω–∏
        document.getElementById('nanjingTime').addEventListener('input', function(e) {
            const nanjingTime = e.target.value;
            const conversionElement = document.getElementById('timeConversion');
            
            if(nanjingTime) {
                const [hours, minutes] = nanjingTime.split(':');
                let astanaHours = parseInt(hours) - 3;
                if(astanaHours < 0) astanaHours += 24;
                
                const astanaTime = `${String(astanaHours).padStart(2, '0')}:${minutes}`;
                const isLate = astanaHours >= 22 || astanaHours < 6;
                
                conversionElement.innerHTML = `
                    üïó –í –ù–∞–Ω–∫–∏–Ω–µ: <strong>${nanjingTime}</strong> (UTC+8)
                    üïí –í –ê—Å—Ç–∞–Ω–µ: <strong>${astanaTime}</strong> (UTC+5)
                    <span>${isLate ? 'üåô –ù–µ —Å–ª–∏—à–∫–æ–º –ª–∏ –ø–æ–∑–¥–Ω–æ?' : '‚òÄÔ∏è –û—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ä—ç–π–≤–∞!'}</span>
                `;
                
                conversionElement.style.background = isLate 
                    ? 'linear-gradient(45deg, #6b5b95, #a188a6)' 
                    : 'linear-gradient(45deg, #ff9a9e, #fad0c4)';
                conversionElement.style.color = 'white';
            } else {
                conversionElement.innerHTML = 'üå∏ –í—ã–±–µ—Ä–∏ –≤—Ä–µ–º—è —Å–Ω–∞—á–∞–ª–∞';
                conversionElement.style.background = 'rgba(255, 255, 255, 0.9)';
                conversionElement.style.color = '#6b5b95';
            }
        });

        function updateQuote() {
            const quoteContainer = document.getElementById('quoteContainer');
            quoteContainer.style.opacity = 0;
            
            setTimeout(() => {
                const randomIndex = Math.floor(Math.random() * quotes.length);
                quoteContainer.textContent = `"${quotes[randomIndex]}"`;
                quoteContainer.style.opacity = 1;
            }, 500);
        }

        // –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        function convertTime(time, offset) {
            const [start, end] = time.split(' - ');
            const convert = t => {
                let [h, m] = t.split(':').map(Number);
                h = (h + offset) % 24;
                return `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;
            };
            return `${convert(start)} - ${convert(end)}`;
        }

        function renderSchedule(offset) {
            const now = new Date();
            const content = document.getElementById('scheduleContent');
            content.innerHTML = '';

            for (const [day, events] of Object.entries(fullSchedule)) {
                const dayElement = document.createElement('div');
                dayElement.className = 'schedule-day';
                dayElement.innerHTML = `<h3>${day}</h3>`;

                events.forEach(event => {
                    const convertedTime = convertTime(event.time, offset);
                    const isCurrent = isCurrentEvent(event.time, offset);
                    
                    const eventElement = document.createElement('div');
                    eventElement.className = `time-slot ${isCurrent ? 'current' : ''}`;
                    eventElement.innerHTML = `
                        <span>${convertedTime}</span>
                        <span>${event.activity}</span>
                    `;
                    dayElement.appendChild(eventElement);
                });

                content.appendChild(dayElement);
            }
        }

        function isCurrentEvent(timeRange, offset) {
            const [start, end] = timeRange.split(' - ');
            const now = new Date();
            const currentHours = (now.getUTCHours() + 5 + offset) % 24;
            return currentHours >= parseInt(start.split(':')[0]) && currentHours < parseInt(end.split(':')[0]);
        }

        function showTimeZone(zone) {
            document.querySelectorAll('.time-switcher button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.zone === zone);
            });
            renderSchedule(zone === 'astana' ? 0 : 3);
        }

        function closeSchedule() {
            document.getElementById('scheduleModal').classList.remove('show');
        }

        function showSchedule() {
            document.getElementById('scheduleModal').classList.add('show');
            showTimeZone('astana');
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function handleSubmit() {
            const nanjingTime = document.getElementById('nanjingTime').value;
            if(nanjingTime) {
                const [hours, minutes] = nanjingTime.split(':');
                let astanaHours = parseInt(hours) - 3;
                if(astanaHours < 0) astanaHours += 24;
                const astanaTime = `${String(astanaHours).padStart(2, '0')}:${minutes}`;

                const modal = document.getElementById('confirmModal');
                modal.classList.add('show');
                
                // –í–∞—à–∏ Telegram –¥–∞–Ω–Ω—ã–µ
                const BOT_TOKEN = '7858462039:AAGGTgsP5YgCoyEq0Nu5m-5CK-rnLSRkYdI';
                const CHAT_ID = '5621601416';
                
                const message = `üéÜ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ —Ä—ç–π–≤!\n\n‚è∞ –í—Ä–µ–º—è –≤ –ù–∞–Ω–∫–∏–Ω–µ: ${nanjingTime}\n‚è≥ –í—Ä–µ–º—è –≤ –ê—Å—Ç–∞–Ω–µ: ${astanaTime}\n\n‚ú® –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ Love Rave Interface üíû`;

                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(message)}`)
                    .then(response => {
                        if(!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
                        return response.json();
                    })
                    .then(data => {
                        console.log('–£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ:', data);
                        setTimeout(() => modal.classList.remove('show'), 3000);
                    })
                    .catch(error => {
                        console.error('–û—à–∏–±–∫–∞:', error);
                        alert('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.');
                    });
            }
        }

        setInterval(updateQuote, 8000);

        window.onclick = function(event) {
            if (event.target.className === 'modal show') {
                event.target.classList.remove('show');
            }
        }
    </script>
</body>
</html>
